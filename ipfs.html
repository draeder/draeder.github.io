<!DOCTYPE html>
<html>
<head>
<title>JavaScript file upload</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script src="https://wzrd.in/standalone/buffer"></script>
<script src="https://unpkg.com/ipfs-api/dist/index.js" crossorigin="anonymous"></script>
</head>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', async () => {
      const node = await IpFsApi.create({ repo: 'ipfs-' + Math.random() })
      window.node = node

      const status = node.isOnline() ? 'online' : 'offline'

      console.log(`Node status: ${status}`)
      document.getElementById('status').innerHTML = `Node status: ${status}`

      // You can write more code here to use it. Use methods like
      // node.add, node.get. See the API docs here:
      // https://github.com/ipfs/js-ipfs/tree/master/packages/interface-ipfs-core
    })
    async function addFile () {
      for await (const { cid } of node.add('Hello world!')) {
        console.log('successfully stored', cid)
      }
    }

    addFile()
</script>
<body>

</body>
</html>